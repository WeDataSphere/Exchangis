"use strict";(self["webpackChunk_fesjs_template"]=self["webpackChunk_fesjs_template"]||[]).push([[776],{78776:(a,e,l)=>{l.r(e),l.d(e,{default:()=>G});l(92222),l(66992),l(33948);var t=l(1089),n=l(91706),r=a=>((0,t.dD)("data-v-7eee1869"),a=a(),(0,t.Cn)(),a),i={class:"transformer-wrap"},o={class:"tf-top"},s=r((()=>(0,t._)("span",null,"校验：",-1))),d=r((()=>(0,t._)("svg",{class:"icon icon-symbol","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-lansejiantoudaikuang"})],-1))),c=[d],m={class:"tf-bottom"},u={key:0},p=r((()=>(0,t._)("span",null,"转换：",-1))),f={key:1},v=r((()=>(0,t._)("span",null,"转换：",-1))),y={class:"tf-modal"},h={class:"tf-modal-top"},b=r((()=>(0,t._)("div",{class:"tf-modal-title"},[(0,t._)("span",null,"校验函数")],-1))),k={class:"tf-modal-content"},g={style:{display:"flex"}},_={style:{display:"flex","justify-content":"center"}},w=(0,t.Uk)(" Add Check Funcion "),V={class:"tf-modal-bottom"},O=r((()=>(0,t._)("div",{class:"tf-modal-title"},[(0,t._)("span",null,"转换函数")],-1))),F={class:"tf-modal-content"},x={class:"tf-modal-content-l"},j=r((()=>(0,t._)("span",null,"(",-1))),D=r((()=>(0,t._)("span",null,")",-1)));function C(a,e,l,r,d,C){var S=(0,t.up)("a-select"),U=(0,t.up)("a-input"),z=(0,t.up)("MinusCircleOutlined"),W=(0,t.up)("a-form-item"),P=(0,t.up)("PlusOutlined"),H=(0,t.up)("a-button"),M=(0,t.up)("a-form"),E=(0,t.up)("a-modal");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",o,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.dynamicValidateForm.domains,(a=>((0,t.wg)(),(0,t.iD)("span",{key:a.key},[s,(0,t.Uk)(" "+(0,n.zw)("".concat(a.optionVal," ").concat(a.value)),1)])))),128))]),(0,t._)("div",{class:(0,n.C_)(["tf-mid",{"tf-mid-sync":!a.dynamicValidateForm.domains.length}]),onClick:e[0]||(e[0]=function(){return a.showModal&&a.showModal(...arguments)})},c,2),(0,t._)("div",m,[a.dynamicValidateForm.transf.value&&a.dynamicValidateForm.transf.param1&&a.dynamicValidateForm.transf.param2&&!a.dynamicValidateForm.transf.param3?((0,t.wg)(),(0,t.iD)("span",u,[p,(0,t.Uk)(" "+(0,n.zw)("".concat(a.dynamicValidateForm.transf.value,"(").concat(a.dynamicValidateForm.transf.param1,",").concat(a.dynamicValidateForm.transf.param2,")")),1)])):(0,t.kq)("",!0),a.dynamicValidateForm.transf.value&&a.dynamicValidateForm.transf.param1&&a.dynamicValidateForm.transf.param2&&a.dynamicValidateForm.transf.param3?((0,t.wg)(),(0,t.iD)("span",f,[v,(0,t.Uk)(" "+(0,n.zw)("".concat(a.dynamicValidateForm.transf.value,"(").concat(a.dynamicValidateForm.transf.param1,",").concat(a.dynamicValidateForm.transf.param2,",").concat(a.dynamicValidateForm.transf.param3,")")),1)])):(0,t.kq)("",!0)]),(0,t.Wm)(E,{visible:a.visible,"onUpdate:visible":e[5]||(e[5]=e=>a.visible=e),title:"映射方式",onOk:a.handleOk,okText:"保存"},{default:(0,t.w5)((()=>[(0,t._)("div",y,[(0,t._)("div",h,[b,(0,t._)("div",k,[(0,t.Wm)(M,{ref:"formRef",model:a.dynamicValidateForm},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.dynamicValidateForm.domains,(e=>((0,t.wg)(),(0,t.j4)(W,{key:e.key},{default:(0,t.w5)((()=>[(0,t._)("div",g,[(0,t.Wm)(S,{ref_for:!0,ref:"select",value:e.optionVal,"onUpdate:value":a=>e.optionVal=a,style:{width:"98px"},options:a.checkOptions},null,8,["value","onUpdate:value","options"]),(0,t.Wm)(U,{value:e.value,"onUpdate:value":a=>e.value=a,style:{width:"144px","margin-left":"24px"}},null,8,["value","onUpdate:value"]),(0,t.Wm)(z,{style:{"font-size":"20px","margin-left":"16px","line-height":"32px"},class:"dynamic-delete-button",onClick:l=>a.removeDomain(e)},null,8,["onClick"])])])),_:2},1024)))),128)),a.dynamicValidateForm.domains.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(W,{key:0},{default:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t.Wm)(H,{type:"dashed",style:{width:"220px"},onClick:a.addDomain},{default:(0,t.w5)((()=>[(0,t.Wm)(P),w])),_:1},8,["onClick"])])])),_:1}))])),_:1},8,["model"])])]),(0,t._)("div",V,[O,(0,t._)("div",F,[(0,t._)("div",null,[(0,t.Wm)(S,{ref:"select",value:a.dynamicValidateForm.transf.value,"onUpdate:value":e[1]||(e[1]=e=>a.dynamicValidateForm.transf.value=e),style:{width:"120px"},options:a.transformFuncOptions,onChange:a.changeDynamicValidateValue},null,8,["value","options","onChange"])]),(0,t._)("div",x,[j,(0,t.Wm)(U,{value:a.dynamicValidateForm.transf.param1,"onUpdate:value":e[2]||(e[2]=e=>a.dynamicValidateForm.transf.param1=e),placeholder:a.placeholder1,style:{width:"130px"},size:"small"},null,8,["value","placeholder"]),(0,t.Wm)(U,{value:a.dynamicValidateForm.transf.param2,"onUpdate:value":e[3]||(e[3]=e=>a.dynamicValidateForm.transf.param2=e),placeholder:a.placeholder2,style:{width:"130px"},size:"small"},null,8,["value","placeholder"]),a.dynamicValidateForm.transf.value&&"dx_substr"!==a.dynamicValidateForm.transf.value?((0,t.wg)(),(0,t.j4)(U,{key:0,value:a.dynamicValidateForm.transf.param3,"onUpdate:value":e[4]||(e[4]=e=>a.dynamicValidateForm.transf.param3=e),placeholder:a.placeholder3,style:{width:"130px"},size:"small"},null,8,["value","placeholder"])):(0,t.kq)("",!0),D])])])])])),_:1},8,["visible","onOk"])])}l(86778);var S=l(25318),U=(l(41539),l(54747),l(74916),l(23123),l(47042),l(82772),l(40561),l(74670)),z=(l(82526),l(57327),{icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"});const W=z;var P=l(57611);function H(a){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable})))),t.forEach((function(e){M(a,e,l[e])}))}return a}function M(a,e,l){return e in a?Object.defineProperty(a,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[e]=l,a}var E=function(a,e){var l=H({},a,e.attrs);return(0,t.Wm)(P.Z,H({},l,{icon:W}),null)};E.displayName="SyncOutlined",E.inheritAttrs=!1;const Z=E;var q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"};const A=q;function N(a){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?Object(arguments[e]):{},t=Object.keys(l);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(l).filter((function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable})))),t.forEach((function(e){T(a,e,l[e])}))}return a}function T(a,e,l){return e in a?Object.defineProperty(a,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[e]=l,a}var I=function(a,e){var l=N({},a,e.attrs);return(0,t.Wm)(P.Z,N({},l,{icon:A}),null)};I.displayName="MinusCircleOutlined",I.inheritAttrs=!1;const J=I;var Y=l(63467);const B=(0,t.aZ)({props:{tfData:Object},emits:["updateTransformer"],components:{SyncOutlined:Z,MinusCircleOutlined:J,PlusOutlined:Y.Z},setup(a,e){var l=(0,U.qj)({validator:a.tfData.validator||[],transformer:a.tfData.transformer||[],id:a.tfData.key,deleteEnable:a.tfData.deleteEnable}),n=(0,t.Fl)((()=>JSON.parse(JSON.stringify(a.tfData))));(0,t.YP)(n,((a,e)=>{var l="string"===typeof a?JSON.parse(a):a;p.domains=s(l.validator),p.transf=d(l.transformer)}));var r=(0,U.iH)(!1),i=()=>{r.value=!0},o=()=>{var l=p.domains,t=p.transf,n={},i=[];if(l.forEach((a=>{var e=a.optionVal+" "+a.value;i.push(e)})),p.transf.value){if(!t.param1||!t.param2)return S.Z.error("参数为必填");var o=[];if(o.push(t.param1),o.push(t.param2),"dx_substr"!==p.transf.value){if(!t.param3)return S.Z.error("参数为必填");o.push(t.param3)}n.name=t.value,n.params=o}r.value=!1,e.emit("updateTransformer",{key:a.tfData.key,validator:i,transformer:n,deleteEnable:a.tfData.deleteEnable})},s=a=>{if(!a)return[];var e=[];return a.forEach(((a,l)=>{var t=Object.create(null);t.key=l+"",t.optionVal=a.split(" ")[0],t.value=a.split(" ").slice(-1).pop(),e.push(t)})),e},d=a=>{if(!a)return{};var e=a.name&&a.name,l=a.params&&a.params.length&&a.params[0],t=a.params&&a.params.length>1&&a.params[1],n=a.params&&a.params.length>2&&a.params[2];return{value:e,param1:l,param2:t,param3:n}},c=(0,U.iH)([{value:"like",label:"like"},{value:"not like",label:"not like"},{value:">",label:"大于"},{value:"==",label:"等于"},{value:"<",label:"小于"},{value:">=",label:"大于等于"},{value:"<=",label:"小于等于"}]),m=(0,U.iH)([{value:"",label:"--"},{value:"dx_substr",label:"dx_substr"},{value:"dx_pad",label:"dx_pad"},{value:"dx_replace",label:"dx_replace"}]),u=(0,U.iH)(),p=(0,U.qj)({domains:s(l.validator),transf:d(l.transformer)}),f=a=>{var e=p.domains.indexOf(a);-1!==e&&p.domains.splice(e,1)},v=()=>{var a=p.domains.length+"";p.domains.push({value:"",optionVal:"like",key:a})},y=(0,U.iH)(""),h=(0,U.iH)(""),b=(0,U.iH)(""),k=()=>{switch(p.transf.param1="",p.transf.param2="",p.transf.param3="",p.transf.value){case"dx_substr":y.value="startIndex",h.value="length",b.value="";break;case"dx_pad":y.value="padType(r or l)",h.value="length",b.value="padString";break;case"dx_replace":y.value="startIndex",h.value="length",b.value="replaceString";break;default:y.value="",h.value="",b.value="";break}};return{visible:r,showModal:i,handleOk:o,transformFuncOptions:m,checkOptions:c,formRef:u,dynamicValidateForm:p,removeDomain:f,addDomain:v,changeDynamicValidateValue:k,placeholder1:y,placeholder2:h,placeholder3:b}}});var K=l(53629);const R=(0,K.Z)(B,[["render",C],["__scopeId","data-v-7eee1869"]]),G=R}}]);