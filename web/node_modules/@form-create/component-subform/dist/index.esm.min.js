/*!
 * @form-create/component-subform v3.1.4
 * (c) 2018-2022 xaboy
 * Github https://github.com/xaboy/form-create with subform
 * Released under the MIT License.
 */
import{defineComponent as e,reactive as t,markRaw as i,nextTick as a,createVNode as n}from"vue";var o=e({name:"fcSubForm",props:{rule:Array,options:{type:Object,default:function(){return t({submitBtn:!1,resetBtn:!1})}},modelValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},formCreateInject:Object},data:function(){return{cacheValue:{},subApi:{},form:i(this.formCreateInject.form.$form())}},emits:["fc:subform","update:modelValue","change","itemMounted"],watch:{disabled:function(e){this.syncDisabled&&this.subApi.disabled(e)},modelValue:function(e){this.setValue(e)}},methods:{formData:function(e){this.cacheValue=JSON.stringify(e),this.$emit("update:modelValue",e),this.$emit("change",e)},setValue:function(e){var t=JSON.stringify(e);this.cacheValue!==t&&(this.cacheValue=t,this.subApi.coverValue(e||{}))},add$f:function(e){var t=this;this.subApi=e,a((function(){t.syncDisabled&&e.disabled(t.disabled),t.$emit("itemMounted",e)}))}},render:function(){var e=this.form;return n(e,{"onUpdate:modelValue":this.formData,modelValue:this.modelValue,"onEmit-event":this.$emit,"onUpdate:api":this.add$f,rule:this.rule,option:this.options,extendOption:!0},null)}});export{o as default};
