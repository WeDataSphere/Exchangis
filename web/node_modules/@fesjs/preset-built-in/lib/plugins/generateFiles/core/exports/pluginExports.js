"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _generateExports = _interopRequireDefault(require("../../../../utils/generateExports"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _default(api) {
  api.onGenerateFiles(async () => {
    const fesExports = await api.applyPlugins({
      key: 'addPluginExports',
      type: api.ApplyPluginsType.add,
      initialValue: []
    });
    const fesExportsHook = {}; // repeated definition

    const absoluteFilePath = 'core/pluginExports.js';
    api.writeTmpFile({
      path: absoluteFilePath,
      content: `${fesExports.map(item => (0, _generateExports.default)(absoluteFilePath, {
        item,
        fesExportsHook
      })).join('\n')}\n`
    });
  });
}